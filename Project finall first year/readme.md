<div align="center"> <h1 align="center"> Задача предсказания отношения количества репостов к просмотрам для постов телеграмм с целью выявления лучших постов и размещения их на канале. </h1> </div>
 
<div align="center"> <h3 align="center"> by Aleksey Kolychev </h3> </div>

<div align="center"> <h3 align="center">Предыстория</h3> </div>

<div align="justify"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Девушка завела телеграмм канал и мне стало интересно, отчего зависит популярность канала. Я предположил, что от контента. Тогда сразу вопрос, какой должен быть контент, чтобы канал имел стабильную аудиторию, которой можно продавать рекламу. Тогда и родился этот проект. </div>
<div align="justify"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Целью было создать модель машинного обучения, предсказывающую основной критерий хорошего сообщения для каналов в жанре «Познавательное». Причем, пост – это либо гиф или видео с небольшим текстом Основным критерием был выбрано отношение количества репостов к количеству просмотров. Это, по моему мнению, означает, что пост настолько хорош, что его можно переслать друзьям или родственникам, поделиться им с другими. </div>


<div align="center"> <h3 align="center"> Проект состоит из нескольких частей:</h3> </div>
1. Сбор информации о сообщениях с помощью библиотеки telethone
2.	Подготовка датасета к ML, 
3.	Обучение модели ML
4.	Написание бота, которые по присланному ему сообщению (с GIF или с video) выдает прогноз репостовости
5.	EDA для попытки объяснить полученные результаты


<div align="center"> <h1 align="center"> 1.	Сбор информации о сообщениях с помощью библиотеки telethone </h1> </div>

<div align="justify"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; С telethon был написан скрипт, который забирал бы все сообщения у выбранных каналов, которых было около 400 штук. Это было реализовано в скрипте «1. Data maining Telethone». Однако, в дальнейшем, данная библиотека вышла из строя: при попытке зайти в нее через аккаунт в ТГ, акк. удалялся со всех устройств.
Впоследствии, чтобы написать бота, пришлось отказаться от формы telethone и преобразовывать форму сообщений aiogram в форму telethone.</div>
<div align="justify"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Для этого потребовалось взять данные по датам, media, текст сообщения и картинку (thumbs) от видео. C библиотекой telethon удалось собрать данные о 39000 + постов из более 400 каналов из раздела «Познавательное». Скрипт сбора данных прилагается. Несколько раз был забанен =) </div>
<div align="justify"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; При получении данных сообщений была добавлена возможность скачки эскиза видео для дальнейшей цветовой оценки его и создания новых признаков. Скачивать целое видео не представлялось возможным по имеющимся ресурсам. Название файла в папке добавлялось в исходный (до преобразований) датафрейм. 
 </div>


